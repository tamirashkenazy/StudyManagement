{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\src\\\\components\\\\signup\\\\signupForm.component.js\";\nimport React, { Component } from 'react';\nimport { Container, Form, Label, Dropdown, Button, Radio, Checkbox } from 'semantic-ui-react';\nimport axios from 'axios';\nimport '../../styles/signup-form.scss';\nimport '../../styles/general.scss';\nimport email_field from './form.fields';\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\nclass SignupForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (e, {\n      name,\n      value\n    }) => {\n      let temp_errors = {};\n      let is_form_valid = true;\n\n      switch (name) {\n        case 'email':\n          if (!validEmailRegex.test(value)) {\n            is_form_valid = false;\n            temp_errors.email = 'אנא הכנס כתובת אימייל';\n            console.log(value);\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        valid_form: is_form_valid,\n        [name]: value,\n        errors: temp_errors\n      }, () => console.log(temp_errors));\n    };\n\n    this.handleCheckbox = (e, {\n      name,\n      value\n    }) => {\n      // console.log(name, [name] );\n      // console.log( e.target.checked);\n      this.setState(prevState => ({\n        [name]: !prevState[name]\n      }));\n    };\n\n    this.validateForm = errors => {\n      let valid = true;\n      Object.values(errors).forEach(val => // if we have an error string set valid to false, will be true if val is not null\n      val && (valid = false));\n      return valid;\n    };\n\n    this.state = {\n      id_number: '',\n      tel_number: '',\n      password: '',\n      year: '',\n      email: '',\n      gender: '',\n      isStudent: false,\n      isTeacher: false,\n      errors: {\n        first_name: null,\n        last_name: null,\n        id_number: null,\n        tel_number: null,\n        password: null,\n        year: null,\n        email: null,\n        gender: null,\n        isStudent: null,\n        isTeacher: null\n      },\n      valid_form: false\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          first_name = _this$state.first_name,\n          last_name = _this$state.last_name,\n          id_number = _this$state.id_number,\n          tel_number = _this$state.tel_number,\n          password = _this$state.password,\n          year = _this$state.year,\n          email = _this$state.email,\n          gender = _this$state.gender,\n          isStudent = _this$state.isStudent,\n          isTeacher = _this$state.isTeacher;\n    console.log(first_name, last_name, id_number, tel_number, password, year, email, gender, isStudent, isTeacher);\n\n    if (this.validateForm(this.state.errors)) {\n      console.log('valid form');\n    } else {\n      console.log('invalid form');\n    }\n\n    const new_user = {\n      first_name: first_name,\n      last_name: last_name,\n      id_number: id_number,\n      tel_number: tel_number,\n      password: password,\n      year: year,\n      email: email,\n      gender: gender,\n      isStudent: isStudent,\n      isTeacher: isTeacher,\n      isAdmin: false\n    }; // isAdmin : false}\n    // const {username} = this.state\n    // console.log(new_user);\n    // axios.post('http://localhost:5000/users/add', new_user)\n    // .then(res => console.log('ok')).catch(err=>console.log(\"error: \" + err))\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          first_name = _this$state2.first_name,\n          last_name = _this$state2.last_name,\n          id_number = _this$state2.id_number,\n          tel_number = _this$state2.tel_number,\n          password = _this$state2.password,\n          year = _this$state2.year,\n          email = _this$state2.email,\n          gender = _this$state2.gender;\n    const _this$state3 = this.state,\n          errors = _this$state3.errors,\n          valid_form = _this$state3.valid_form;\n    let email_error = errors.email;\n    const options = [{\n      key: 'a',\n      text: 'שנה א',\n      value: 'year-a'\n    }, {\n      key: 'b',\n      text: 'שנה ב',\n      value: 'year-b'\n    }, {\n      key: 'c',\n      text: 'שנה ג',\n      value: 'year-c'\n    }, {\n      key: 'd',\n      text: 'שנה ד',\n      value: 'year-d'\n    }, {\n      key: 'e',\n      text: 'שנה ה',\n      value: 'year-e'\n    }];\n    return React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      widths: \"equal\",\n      unstackable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"email_field\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"), React.createElement(Form.Input, {\n      type: \"password\",\n      placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n      name: \"password\",\n      value: password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"\\u05EA.\\u05D6\"), React.createElement(Form.Input, {\n      // type=\"password\"\n      placeholder: \"\\u05EA.\\u05D6 - \\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",\n      name: \"id_number\",\n      value: id_number,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(Label, {\n      size: \"tiny\",\n      pointing: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"\\u05E9\\u05DD \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"))), React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"\\u05DE\\u05E1' \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\"), React.createElement(Form.Input, {\n      // type=\"password\"\n      placeholder: \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",\n      name: \"tel_number\",\n      value: tel_number,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\"), React.createElement(Form.Input, {\n      // type=\"password\"\n      placeholder: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\",\n      name: \"last_name\",\n      value: last_name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\"), React.createElement(Form.Input, {\n      placeholder: \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",\n      name: \"first_name\",\n      value: first_name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      widths: \"equal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      inline: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      name: \"gender\",\n      control: Radio,\n      label: \"\\u05E0\\u05E7\\u05D1\\u05D4\",\n      value: \"female\",\n      checked: gender === 'female',\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(Form.Field, {\n      name: \"gender\",\n      control: Radio,\n      label: \"\\u05D6\\u05DB\\u05E8\",\n      value: \"male\",\n      checked: gender === 'male',\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      inline: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      name: \"isStudent\",\n      control: Checkbox,\n      label: \"\\u05EA\\u05DC\\u05DE\\u05D9\\u05D3\" // value={isStudent}\n      ,\n      checked: this.state.isStudent,\n      onChange: this.handleCheckbox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(Form.Field, {\n      name: \"isTeacher\",\n      control: Checkbox,\n      label: \"\\u05DE\\u05D5\\u05E8\\u05D4\" // value={isTeacher}\n      ,\n      checked: this.state.isTeacher,\n      onChange: this.handleCheckbox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"\\u05E9\\u05E0\\u05EA \\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\"), React.createElement(Dropdown, {\n      name: \"year\",\n      value: year,\n      clearable: true,\n      options: options,\n      selection: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.onSubmit,\n      primary: true,\n      disabled: !valid_form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"\\u05D4\\u05D9\\u05E8\\u05E9\\u05DD\"))));\n  }\n\n}\n\nexport default function signupConatainer() {\n  return React.createElement(Container, {\n    className: \"signup-box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"right-align\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, React.createElement(SignupForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["D:/Tamir/Uni/3rd year/Project/StudyManagementProject/study-management-app/client/src/components/signup/signupForm.component.js"],"names":["React","Component","Container","Form","Label","Dropdown","Button","Radio","Checkbox","axios","email_field","validEmailRegex","RegExp","SignupForm","constructor","props","handleChange","e","name","value","temp_errors","is_form_valid","test","email","console","log","setState","valid_form","errors","handleCheckbox","prevState","validateForm","valid","Object","values","forEach","val","state","id_number","tel_number","password","year","gender","isStudent","isTeacher","first_name","last_name","onSubmit","bind","preventDefault","new_user","isAdmin","render","email_error","options","key","text","signupConatainer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Form,  Label, Dropdown, Button, Radio, Checkbox} from 'semantic-ui-react';\r\nimport axios from 'axios'\r\nimport '../../styles/signup-form.scss'\r\nimport '../../styles/general.scss'\r\nimport email_field from './form.fields'\r\n\r\n\r\nconst validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\r\n\r\nclass SignupForm extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { \r\n            id_number: '', \r\n            tel_number: '',\r\n            password: '', \r\n            year : '',\r\n            email : '',\r\n            gender : '',\r\n            isStudent : false,\r\n            isTeacher : false,\r\n            errors : {\r\n                first_name: null,\r\n                last_name: null,\r\n                id_number: null,\r\n                tel_number: null,\r\n                password: null,\r\n                year :null,\r\n                email : null,\r\n                gender : null,\r\n                isStudent : null,\r\n                isTeacher : null,\r\n            },\r\n            valid_form : false,\r\n        }\r\n        \r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    \r\n\r\n    handleChange = (e, { name, value }) => {\r\n        let temp_errors = {}\r\n        let is_form_valid = true\r\n        switch(name) {\r\n            case 'email':\r\n                if (!validEmailRegex.test(value)) {\r\n                    is_form_valid = false\r\n                    temp_errors.email = 'אנא הכנס כתובת אימייל';\r\n                    console.log(value);\r\n                }\r\n            break;\r\n            default:\r\n            break;\r\n        }\r\n        this.setState({ valid_form :  is_form_valid, [name]: value, errors : temp_errors }, ()=>console.log(temp_errors))\r\n    }\r\n\r\n    handleCheckbox = (e, { name, value }) => {\r\n        // console.log(name, [name] );\r\n        // console.log( e.target.checked);\r\n        this.setState(prevState => ({\r\n                [name] : !prevState[name]\r\n            })\r\n        )\r\n    }\r\n    \r\n\r\n    validateForm = (errors) => {\r\n        let valid = true;\r\n        Object.values(errors).forEach(val=>\r\n             // if we have an error string set valid to false, will be true if val is not null\r\n            val && (valid = false)\r\n                 \r\n        );\r\n        return valid;\r\n    }\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const {first_name, last_name, id_number, tel_number, password, year, email, gender, isStudent, isTeacher} = this.state\r\n        console.log(first_name, last_name, id_number, tel_number, password, year, email, gender, isStudent, isTeacher);\r\n        if(this.validateForm(this.state.errors)) {\r\n            console.log('valid form');\r\n        } else {\r\n            console.log('invalid form');\r\n        }\r\n        const new_user = {  \r\n                        first_name : first_name, \r\n                        last_name: last_name, \r\n                        id_number: id_number,\r\n                        tel_number : tel_number,\r\n                        password : password,\r\n                        year: year,\r\n                        email: email,\r\n                        gender : gender,\r\n                        isStudent: isStudent,\r\n                        isTeacher : isTeacher,\r\n                        isAdmin : false}\r\n                        // isAdmin : false}\r\n   \r\n        // const {username} = this.state\r\n        // console.log(new_user);\r\n        // axios.post('http://localhost:5000/users/add', new_user)\r\n        // .then(res => console.log('ok')).catch(err=>console.log(\"error: \" + err))\r\n    }\r\n    \r\n\r\n    render() {\r\n        const {first_name, last_name, id_number, tel_number, password, year, email , gender} = this.state\r\n        const {errors, valid_form} = this.state\r\n        let email_error = errors.email\r\n        const options = [\r\n            { key: 'a', text: 'שנה א', value: 'year-a' },\r\n            { key: 'b', text: 'שנה ב', value: 'year-b' },\r\n            { key: 'c', text: 'שנה ג', value: 'year-c' },\r\n            { key: 'd', text: 'שנה ד', value: 'year-d' },\r\n            { key: 'e', text: 'שנה ה', value: 'year-e' },\r\n        ]\r\n        return (\r\n            <Form>\r\n                <Form.Group widths='equal' unstackable>\r\n                    <email_field></email_field>\r\n                    <Form.Field>\r\n                        <label>סיסמה</label>\r\n                        <Form.Input\r\n                            type=\"password\"\r\n                            placeholder='סיסמה'\r\n                            name='password'\r\n                            value={password}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        {/* <Input fluid placeholder='First name' /> */}\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>ת.ז</label>\r\n                        <Form.Input\r\n                            // type=\"password\"\r\n                            placeholder='ת.ז - שם משתמש'\r\n                            name='id_number'\r\n                            value={id_number}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <Label size=\"tiny\" pointing>שם המשתמש</Label>\r\n                    </Form.Field>\r\n                </Form.Group>\r\n                <Form.Group widths='equal'>\r\n                    \r\n                    <Form.Field>\r\n                        <label>מס' טלפון</label>\r\n                        <Form.Input\r\n                            // type=\"password\"\r\n                            placeholder='טלפון'\r\n                            name='tel_number'\r\n                            value={tel_number}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>שם משפחה</label>\r\n                        <Form.Input\r\n                            // type=\"password\"\r\n                            placeholder='שם משפחה'\r\n                            name='last_name'\r\n                            value={last_name}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field required>\r\n                        <label>שם פרטי</label>\r\n                        <Form.Input\r\n                            placeholder='שם פרטי'\r\n                            name='first_name'\r\n                            value={first_name}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </Form.Field>\r\n                </Form.Group>\r\n                <Form.Group widths='equal'>\r\n                    <Form.Group inline>\r\n                        <Form.Field\r\n                            name=\"gender\"\r\n                            control={Radio}\r\n                            label='נקבה'\r\n                            value='female'\r\n                            checked={gender === 'female'}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <Form.Field                            \r\n                            name=\"gender\"\r\n                            control={Radio}\r\n                            label='זכר'\r\n                            value='male'\r\n                            checked={gender === 'male'}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group inline>\r\n                        <Form.Field\r\n                            name='isStudent'\r\n                            control={Checkbox}\r\n                            label='תלמיד'\r\n                            // value={isStudent}\r\n                            checked={this.state.isStudent}\r\n                            onChange={this.handleCheckbox}\r\n                        />\r\n                        <Form.Field                            \r\n                            name='isTeacher'\r\n                            control={Checkbox}\r\n                            label='מורה'\r\n                            // value={isTeacher}\r\n                            checked={this.state.isTeacher}\r\n                            onChange={this.handleCheckbox}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Field required>\r\n                        <label>שנת לימודים</label>\r\n                        <Dropdown \r\n                            name='year'\r\n                            value={year}\r\n                            clearable \r\n                            options={options} \r\n                            selection \r\n                            onChange={this.handleChange} \r\n                        />\r\n                        \r\n                        {/* <Input fluid placeholder='First name' /> */}\r\n                    </Form.Field>\r\n                </Form.Group>\r\n                <Form.Group>\r\n                    <Form.Field>\r\n                        <Button onClick={this.onSubmit} primary disabled={!valid_form}>הירשם</Button>\r\n                    </Form.Field>\r\n                </Form.Group>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default function signupConatainer () {\r\n    return (\r\n        <Container className=\"signup-box\">\r\n            <div className=\"right-align\">\r\n                <SignupForm/>\r\n            </div>\r\n        </Container>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}