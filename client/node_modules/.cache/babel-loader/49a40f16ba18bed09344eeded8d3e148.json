{"ast":null,"code":"import _objectSpread from \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\src\\\\components\\\\functionaloginForm.js\";\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Form, Button, Checkbox } from 'semantic-ui-react';\nimport axios from 'axios';\nimport '../styles/login-form.scss';\nimport '../styles/general.scss';\n\nfunction FormLogin() {\n  // _isMounted = false;\n  // constructor(props) {\n  //     super(props)\n  //     this.state = { \n  //         username: '', \n  //         password: '', \n  //         forgotPassword : false,\n  //         redirect : false,\n  //     }\n  //     this.onSignIn = this.onSignIn.bind(this);\n  // }\n  const useSignInForm = callback => {\n    const _useState = useState({}),\n          _useState2 = _slicedToArray(_useState, 2),\n          inputs = _useState2[0],\n          setInputs = _useState2[1];\n\n    const handleSubmit = event => {\n      if (event) {\n        event.preventDefault();\n        const login_user = {\n          _id: inputs.username,\n          password: inputs.password\n        };\n        axios.post('http://localhost:5000/sign_in/', login_user).then(response => {\n          console.log(\"success: \" + response.data.success);\n          console.log(\"message: \" + response.data.message);\n\n          if (response.data.success) {\n            console.log('success in success'); // this.setState({\n            //     isLoading : false,\n            //     redirect : true,\n            // })\n          } else {\n            console.log(response.data.message);\n            console.log(\"not succ \" + response.data.message);\n          }\n        }).then({// this.setState({\n          //     isLoading : false,\n          // });\n        });\n      }\n\n      callback();\n    };\n\n    const handleInputChange = event => {\n      event.persist();\n      setInputs(inputs => _objectSpread({}, inputs, {\n        [event.target.name]: event.target.value\n      }));\n    };\n\n    return {\n      handleSubmit,\n      handleInputChange,\n      inputs\n    };\n  };\n\n  const consoleFunc = () => {\n    console.log(\"the user is: \" + inputs.username + \" \" + inputs.password);\n  };\n\n  const _useSignInForm = useSignInForm(consoleFunc),\n        inputs = _useSignInForm.inputs,\n        handleInputChange = _useSignInForm.handleInputChange,\n        handleSubmit = _useSignInForm.handleSubmit;\n  /**\r\n  handleChange = (e, { name, value }) => {\r\n          this.setState({ [name]: value })\r\n      }\r\n   */\n\n  /**\r\n   *\r\n   onSignIn(e) {\r\n       e.preventDefault();\r\n       const {username, password} = this.state\r\n       const login_user = {  \r\n           _id : username,\r\n           password : password,\r\n       }\r\n       axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n           console.log(\"success: \" + (response.data.success));\r\n           console.log(\"message: \" + (response.data.message));\r\n           if (response.data.success) {\r\n               this.setState({\r\n                   isLoading : false,\r\n                   redirect : true,\r\n               })\r\n           } else {\r\n               console.log(response.data.message);\r\n               console.log(\"not succ \" + response.data.message);\r\n          }\r\n       }).then(()=>{\r\n           this.setState({\r\n               isLoading : false,\r\n           });\r\n       })\r\n   }\r\n   */\n\n  /**\r\n   *     componentWillUnmount() {\r\n      this._isMounted = false;\r\n  }\r\n   */\n\n\n  const WelcomeHeader = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      id: \"welcome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\u05D1\\u05E8\\u05D5\\u05DB\\u05D9\\u05DD \\u05D4\\u05D1\\u05D0\\u05D9\\u05DD\"), React.createElement(\"h4\", {\n      id: \"welcome-to-where\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u05DE\\u05E2\\u05E8\\u05DB\\u05EA \\u05DC\\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05E9\\u05E2\\u05D5\\u05EA \\u05D4\\u05D7\\u05D5\\u05E0\\u05DB\\u05D5\\u05EA\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"right-align\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(WelcomeHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(Form, {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"), React.createElement(Form.Input, {\n    placeholder: \"\\u05EA.\\u05D6\",\n    name: \"username\",\n    value: inputs.username,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  })), React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"), React.createElement(Form.Input, {\n    type: \"password\",\n    placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n    name: \"password\",\n    value: inputs.password,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })), React.createElement(Form.Field, {\n    control: Checkbox,\n    label: \"\\u05E9\\u05DB\\u05D7\\u05EA\\u05D9 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"teal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"\\u05DC\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\")), React.createElement(Button, {\n    onClick: handleSubmit,\n    primary: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"))));\n  /**\r\n   render() {\r\n      const { username, password, redirect } = this.state\r\n      if (redirect) {\r\n          return (\r\n              <Redirect to={{pathname:'/main', state:{first_name:username} }}></Redirect>\r\n          )\r\n      }\r\n  }\r\n     */\n}\n\nexport default FormLogin;","map":{"version":3,"sources":["D:/Tamir/Uni/3rd year/Project/StudyManagementProject/study-management-app/client/src/components/functionaloginForm.js"],"names":["React","useState","Link","Redirect","Form","Button","Checkbox","axios","FormLogin","useSignInForm","callback","inputs","setInputs","handleSubmit","event","preventDefault","login_user","_id","username","password","post","then","response","console","log","data","success","message","handleInputChange","persist","target","name","value","consoleFunc","WelcomeHeader"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,IAAR,EAAcC,QAAd,QAA6B,kBAA7B;AACA,SAAQC,IAAR,EAAeC,MAAf,EAAuBC,QAAvB,QAAsC,mBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,2BAAP;AACA,OAAO,wBAAP;;AAEA,SAASC,SAAT,GAAuB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAMC,aAAa,GAAIC,QAAD,IAAc;AAAA,sBACJT,QAAQ,CAAC,EAAD,CADJ;AAAA;AAAA,UACzBU,MADyB;AAAA,UACjBC,SADiB;;AAEhC,UAAMC,YAAY,GAAIC,KAAD,IAAW;AAC5B,UAAIA,KAAJ,EAAW;AACPA,QAAAA,KAAK,CAACC,cAAN;AACA,cAAMC,UAAU,GAAG;AACfC,UAAAA,GAAG,EAAGN,MAAM,CAACO,QADE;AAEfC,UAAAA,QAAQ,EAAGR,MAAM,CAACQ;AAFH,SAAnB;AAIAZ,QAAAA,KAAK,CAACa,IAAN,CAAW,gCAAX,EAA6CJ,UAA7C,EAAyDK,IAAzD,CAA+DC,QAAD,IAAa;AACvEC,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAeF,QAAQ,CAACG,IAAT,CAAcC,OAAzC;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAeF,QAAQ,CAACG,IAAT,CAAcE,OAAzC;;AACA,cAAIL,QAAQ,CAACG,IAAT,CAAcC,OAAlB,EAA2B;AACvBH,YAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EADuB,CAEvB;AACA;AACA;AACA;AACH,WAND,MAMO;AACHD,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcE,OAA1B;AACAJ,YAAAA,OAAO,CAACC,GAAR,CAAY,cAAcF,QAAQ,CAACG,IAAT,CAAcE,OAAxC;AACJ;AACH,SAbD,EAaGN,IAbH,CAaQ,CACJ;AACA;AACA;AAHI,SAbR;AAkBH;;AACDX,MAAAA,QAAQ;AACX,KA3BD;;AA4BA,UAAMkB,iBAAiB,GAAId,KAAD,IAAW;AACjCA,MAAAA,KAAK,CAACe,OAAN;AACAjB,MAAAA,SAAS,CAACD,MAAM,sBAASA,MAAT;AAAiB,SAACG,KAAK,CAACgB,MAAN,CAAaC,IAAd,GAAsBjB,KAAK,CAACgB,MAAN,CAAaE;AAApD,QAAP,CAAT;AACH,KAHD;;AAIA,WAAO;AACHnB,MAAAA,YADG;AAEHe,MAAAA,iBAFG;AAGHjB,MAAAA;AAHG,KAAP;AAKH,GAvCD;;AAyCA,QAAMsB,WAAW,GAAG,MAAM;AACtBV,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBb,MAAM,CAACO,QAAzB,GAAoC,GAApC,GAA0CP,MAAM,CAACQ,QAA7D;AACH,GAFD;;AAtDmB,yBAyD+BV,aAAa,CAACwB,WAAD,CAzD5C;AAAA,QAyDZtB,MAzDY,kBAyDZA,MAzDY;AAAA,QAyDJiB,iBAzDI,kBAyDJA,iBAzDI;AAAA,QAyDef,YAzDf,kBAyDeA,YAzDf;AA2DvB;;;;;;AAKG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BC;;;;;;;AAOA,QAAMqB,aAAa,GAAG,MAAM;AACxB,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,EAAE,EAAC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EADJ,EAEI;AAAI,MAAA,EAAE,EAAC,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iJAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH,GARD;;AAYA,SACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDADJ,EAEI,oBAAC,IAAD,CAAM,KAAN;AACI,IAAA,WAAW,EAAC,eADhB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAEvB,MAAM,CAACO,QAHlB;AAII,IAAA,QAAQ,EAAEU,iBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAWI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,EAEI,oBAAC,IAAD,CAAM,KAAN;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,WAAW,EAAC,gCAFhB;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,KAAK,EAAEjB,MAAM,CAACQ,QAJlB;AAKI,IAAA,QAAQ,EAAES,iBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAXJ,EAsBI,oBAAC,IAAD,CAAM,KAAN;AACQ,IAAA,OAAO,EAAEtB,QADjB;AAEQ,IAAA,KAAK,EAAC,+DAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,EA2BI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADJ,CADJ,EAII,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEO,YAAjB;AAA+B,IAAA,OAAO,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAJJ,CA3BJ,CAHJ,CADJ;AAwCA;;;;;;;;;;AAaH;;AAED,eAAeL,SAAf","sourcesContent":["\r\nimport React, { useState } from 'react'\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {Form , Button, Checkbox} from 'semantic-ui-react'\r\nimport axios from 'axios'\r\nimport '../styles/login-form.scss'\r\nimport '../styles/general.scss'\r\n\r\nfunction FormLogin ()  {\r\n    // _isMounted = false;\r\n    // constructor(props) {\r\n    //     super(props)\r\n    //     this.state = { \r\n    //         username: '', \r\n    //         password: '', \r\n    //         forgotPassword : false,\r\n    //         redirect : false,\r\n    //     }\r\n    //     this.onSignIn = this.onSignIn.bind(this);\r\n    // }\r\n\r\n    const useSignInForm = (callback) => {\r\n        const [inputs, setInputs] = useState({})\r\n        const handleSubmit = (event) => {\r\n            if (event) {\r\n                event.preventDefault();\r\n                const login_user = {  \r\n                    _id : inputs.username,\r\n                    password : inputs.password,\r\n                }\r\n                axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n                    console.log(\"success: \" + (response.data.success));\r\n                    console.log(\"message: \" + (response.data.message));\r\n                    if (response.data.success) {\r\n                        console.log('success in success');\r\n                        // this.setState({\r\n                        //     isLoading : false,\r\n                        //     redirect : true,\r\n                        // })\r\n                    } else {\r\n                        console.log(response.data.message);\r\n                        console.log(\"not succ \" + response.data.message);\r\n                   }\r\n                }).then({\r\n                    // this.setState({\r\n                    //     isLoading : false,\r\n                    // });\r\n                })\r\n            }\r\n            callback()\r\n        }\r\n        const handleInputChange = (event) => {\r\n            event.persist();\r\n            setInputs(inputs => ({...inputs, [event.target.name] : event.target.value}));\r\n        }\r\n        return {\r\n            handleSubmit,\r\n            handleInputChange,\r\n            inputs\r\n        };\r\n    }\r\n\r\n    const consoleFunc = () => {\r\n        console.log(\"the user is: \" + inputs.username + \" \" + inputs.password);\r\n    }\r\n    const {inputs, handleInputChange, handleSubmit} = useSignInForm(consoleFunc);\r\n    \r\n/**\r\nhandleChange = (e, { name, value }) => {\r\n        this.setState({ [name]: value })\r\n    }\r\n */\r\n   /**\r\n    *\r\n    onSignIn(e) {\r\n        e.preventDefault();\r\n        const {username, password} = this.state\r\n        const login_user = {  \r\n            _id : username,\r\n            password : password,\r\n        }\r\n        axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n            console.log(\"success: \" + (response.data.success));\r\n            console.log(\"message: \" + (response.data.message));\r\n            if (response.data.success) {\r\n                this.setState({\r\n                    isLoading : false,\r\n                    redirect : true,\r\n                })\r\n            } else {\r\n                console.log(response.data.message);\r\n                console.log(\"not succ \" + response.data.message);\r\n           }\r\n        }).then(()=>{\r\n            this.setState({\r\n                isLoading : false,\r\n            });\r\n        })\r\n    }\r\n    */ \r\n    \r\n    /**\r\n     *     componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n     */\r\n\r\n\r\n    const WelcomeHeader = () => {\r\n        return (\r\n            <div>\r\n                <h3 id=\"welcome\">ברוכים הבאים</h3>    \r\n                <h4 id=\"welcome-to-where\">מערכת לניהול שעות החונכות</h4>\r\n                <br></br>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"right-align\">\r\n            <WelcomeHeader/>\r\n\r\n            <Form className=\"login-form\">\r\n                <Form.Field>\r\n                    <label>שם משתמש</label>\r\n                    <Form.Input\r\n                        placeholder='ת.ז'\r\n                        name='username'\r\n                        value={inputs.username}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </Form.Field>\r\n                \r\n                <Form.Field>\r\n                    <label>סיסמה</label>\r\n                    <Form.Input\r\n                        type=\"password\"\r\n                        placeholder='סיסמה'\r\n                        name='password'\r\n                        value={inputs.password}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </Form.Field>\r\n                \r\n                <Form.Field\r\n                        control={Checkbox}\r\n                        label='שכחתי סיסמה'\r\n                    />\r\n\r\n                <Form.Field>\r\n                    <Link to=\"/signup\">\r\n                        <Button color=\"teal\">להרשמה</Button>\r\n                    </Link>\r\n                    <Button onClick={handleSubmit} primary>התחבר</Button>\r\n                </Form.Field>\r\n            </Form>\r\n        </div>\r\n    )\r\n    /**\r\n     render() {\r\n        const { username, password, redirect } = this.state\r\n        if (redirect) {\r\n            return (\r\n                <Redirect to={{pathname:'/main', state:{first_name:username} }}></Redirect>\r\n            )\r\n        }\r\n    }\r\n\r\n     */\r\n    \r\n        \r\n}\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}