{"ast":null,"code":"import _objectSpread from \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\src\\\\components\\\\functionaloginForm.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Form, Button, Checkbox } from 'semantic-ui-react';\nimport axios from 'axios';\nimport '../styles/login-form.scss';\nimport '../styles/general.scss';\n\nfunction FormLogin() {\n  let history = useHistory();\n\n  const postRequestToValidate = login_user => {\n    console.log(\"the user is: \" + inputs.username + \" \" + inputs.password);\n    axios.post('http://localhost:5000/sign_in/', login_user).then(response => {\n      console.log(\"success: \" + response.data.success);\n      console.log(\"message: \" + response.data.message);\n\n      if (response.data.success) {\n        history.push({\n          pathname: '/main',\n          props: {\n            username: inputs.username\n          }\n        }); // this.setState({\n        //     isLoading : false,\n        //     redirect : true,\n        // })\n      } else {\n        alert(\"שם המשתמש או הסיסמה שגויים\");\n      }\n    }).then({// this.setState({\n      //     isLoading : false,\n      // });\n    });\n  };\n\n  const useSignInForm = callback => {\n    const _useState = useState({\n      username: '',\n      password: ''\n    }),\n          _useState2 = _slicedToArray(_useState, 2),\n          inputs = _useState2[0],\n          setInputs = _useState2[1];\n\n    const handleSubmit = event => {\n      if (event) {\n        event.preventDefault();\n        const login_user = {\n          _id: inputs.username,\n          password: inputs.password\n        };\n        callback(login_user);\n      }\n    };\n\n    const handleInputChange = event => {\n      event.persist();\n      setInputs(inputs => _objectSpread({}, inputs, {\n        [event.target.name]: event.target.value\n      }));\n    };\n\n    return {\n      handleSubmit,\n      handleInputChange,\n      inputs\n    };\n  };\n\n  const consoleFunc = () => {\n    console.log(\"the user is: \" + inputs.username + \" \" + inputs.password);\n  };\n\n  const _useSignInForm = useSignInForm(postRequestToValidate),\n        inputs = _useSignInForm.inputs,\n        handleInputChange = _useSignInForm.handleInputChange,\n        handleSubmit = _useSignInForm.handleSubmit;\n  /**\r\n  handleChange = (e, { name, value }) => {\r\n          this.setState({ [name]: value })\r\n      }\r\n   */\n\n  /**\r\n   *\r\n   onSignIn(e) {\r\n       e.preventDefault();\r\n       const {username, password} = this.state\r\n       const login_user = {  \r\n           _id : username,\r\n           password : password,\r\n       }\r\n       axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n           console.log(\"success: \" + (response.data.success));\r\n           console.log(\"message: \" + (response.data.message));\r\n           if (response.data.success) {\r\n               this.setState({\r\n                   isLoading : false,\r\n                   redirect : true,\r\n               })\r\n           } else {\r\n               console.log(response.data.message);\r\n               console.log(\"not succ \" + response.data.message);\r\n          }\r\n       }).then(()=>{\r\n           this.setState({\r\n               isLoading : false,\r\n           });\r\n       })\r\n   }\r\n   */\n\n  /**\r\n   *     componentWillUnmount() {\r\n      this._isMounted = false;\r\n  }\r\n   */\n\n\n  const WelcomeHeader = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      id: \"welcome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u05D1\\u05E8\\u05D5\\u05DB\\u05D9\\u05DD \\u05D4\\u05D1\\u05D0\\u05D9\\u05DD\"), React.createElement(\"h4\", {\n      id: \"welcome-to-where\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"\\u05DE\\u05E2\\u05E8\\u05DB\\u05EA \\u05DC\\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05E9\\u05E2\\u05D5\\u05EA \\u05D4\\u05D7\\u05D5\\u05E0\\u05DB\\u05D5\\u05EA\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"right-align\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(WelcomeHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(Form, {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"), React.createElement(Form.Input, {\n    placeholder: \"\\u05EA.\\u05D6\",\n    name: \"username\",\n    value: inputs.username // || ''\n    ,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  })), React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"), React.createElement(Form.Input, {\n    type: \"password\",\n    placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n    name: \"password\",\n    value: inputs.password // || ''\n    ,\n    onChange: handleInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  })), React.createElement(Form.Field, {\n    control: Checkbox,\n    label: \"\\u05E9\\u05DB\\u05D7\\u05EA\\u05D9 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(Form.Field, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"teal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"\\u05DC\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\")), React.createElement(Button, {\n    onClick: handleSubmit,\n    primary: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"))));\n  /**\r\n   render() {\r\n      const { username, password, redirect } = this.state\r\n      if (redirect) {\r\n          return (\r\n              <Redirect to={{pathname:'/main', state:{first_name:username} }}></Redirect>\r\n          )\r\n      }\r\n  }\r\n     */\n}\n\nexport default FormLogin;","map":{"version":3,"sources":["D:/Tamir/Uni/3rd year/Project/StudyManagementProject/study-management-app/client/src/components/functionaloginForm.js"],"names":["React","useState","Link","useHistory","Form","Button","Checkbox","axios","FormLogin","history","postRequestToValidate","login_user","console","log","inputs","username","password","post","then","response","data","success","message","push","pathname","props","alert","useSignInForm","callback","setInputs","handleSubmit","event","preventDefault","_id","handleInputChange","persist","target","name","value","consoleFunc","WelcomeHeader"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,IAAR,EAAeC,UAAf,QAAgC,kBAAhC;AACA,SAAQC,IAAR,EAAeC,MAAf,EAAuBC,QAAvB,QAAsC,mBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,2BAAP;AACA,OAAO,wBAAP;;AAEA,SAASC,SAAT,GAAuB;AACnB,MAAIC,OAAO,GAAGN,UAAU,EAAxB;;AACA,QAAMO,qBAAqB,GAAIC,UAAD,IAAgB;AAC1CC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBC,MAAM,CAACC,QAAzB,GAAoC,GAApC,GAA0CD,MAAM,CAACE,QAA7D;AACAT,IAAAA,KAAK,CAACU,IAAN,CAAW,gCAAX,EAA6CN,UAA7C,EAAyDO,IAAzD,CAA+DC,QAAD,IAAa;AAC/DP,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAeM,QAAQ,CAACC,IAAT,CAAcC,OAAzC;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAeM,QAAQ,CAACC,IAAT,CAAcE,OAAzC;;AACA,UAAIH,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACvBZ,QAAAA,OAAO,CAACc,IAAR,CAAa;AACTC,UAAAA,QAAQ,EAAE,OADD;AAETC,UAAAA,KAAK,EAAE;AAAEV,YAAAA,QAAQ,EAAGD,MAAM,CAACC;AAApB;AAFE,SAAb,EADuB,CAKvB;AACA;AACA;AACA;AACH,OATD,MASO;AACHW,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACJ;AACH,KAfT,EAeWR,IAfX,CAegB,CACJ;AACA;AACA;AAHI,KAfhB;AAoBH,GAtBD;;AAwBA,QAAMS,aAAa,GAAIC,QAAD,IAAc;AAAA,sBACJ3B,QAAQ,CAAC;AAACc,MAAAA,QAAQ,EAAG,EAAZ;AAAgBC,MAAAA,QAAQ,EAAG;AAA3B,KAAD,CADJ;AAAA;AAAA,UACzBF,MADyB;AAAA,UACjBe,SADiB;;AAEhC,UAAMC,YAAY,GAAIC,KAAD,IAAW;AAC5B,UAAIA,KAAJ,EAAW;AACPA,QAAAA,KAAK,CAACC,cAAN;AACA,cAAMrB,UAAU,GAAG;AACfsB,UAAAA,GAAG,EAAGnB,MAAM,CAACC,QADE;AAEfC,UAAAA,QAAQ,EAAGF,MAAM,CAACE;AAFH,SAAnB;AAIAY,QAAAA,QAAQ,CAACjB,UAAD,CAAR;AACH;AAEJ,KAVD;;AAWA,UAAMuB,iBAAiB,GAAIH,KAAD,IAAW;AACjCA,MAAAA,KAAK,CAACI,OAAN;AACAN,MAAAA,SAAS,CAACf,MAAM,sBAASA,MAAT;AAAiB,SAACiB,KAAK,CAACK,MAAN,CAAaC,IAAd,GAAsBN,KAAK,CAACK,MAAN,CAAaE;AAApD,QAAP,CAAT;AACH,KAHD;;AAIA,WAAO;AACHR,MAAAA,YADG;AAEHI,MAAAA,iBAFG;AAGHpB,MAAAA;AAHG,KAAP;AAKH,GAtBD;;AAwBA,QAAMyB,WAAW,GAAG,MAAM;AACtB3B,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBC,MAAM,CAACC,QAAzB,GAAoC,GAApC,GAA0CD,MAAM,CAACE,QAA7D;AACH,GAFD;;AAlDmB,yBAqD+BW,aAAa,CAACjB,qBAAD,CArD5C;AAAA,QAqDZI,MArDY,kBAqDZA,MArDY;AAAA,QAqDJoB,iBArDI,kBAqDJA,iBArDI;AAAA,QAqDeJ,YArDf,kBAqDeA,YArDf;AAuDvB;;;;;;AAKG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BC;;;;;;;AAOA,QAAMU,aAAa,GAAG,MAAM;AACxB,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,EAAE,EAAC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EADJ,EAEI;AAAI,MAAA,EAAE,EAAC,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iJAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH,GARD;;AAYA,SACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDADJ,EAEI,oBAAC,IAAD,CAAM,KAAN;AACI,IAAA,WAAW,EAAC,eADhB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,KAAK,EAAE1B,MAAM,CAACC,QAHlB,CAG4B;AAH5B;AAII,IAAA,QAAQ,EAAEmB,iBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAWI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,EAEI,oBAAC,IAAD,CAAM,KAAN;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,WAAW,EAAC,gCAFhB;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,KAAK,EAAEpB,MAAM,CAACE,QAJlB,CAI4B;AAJ5B;AAKI,IAAA,QAAQ,EAAEkB,iBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAXJ,EAsBI,oBAAC,IAAD,CAAM,KAAN;AACQ,IAAA,OAAO,EAAE5B,QADjB;AAEQ,IAAA,KAAK,EAAC,+DAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,EA2BI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADJ,CADJ,EAII,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEwB,YAAjB;AAA+B,IAAA,OAAO,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAJJ,CA3BJ,CAHJ,CADJ;AAwCA;;;;;;;;;;AAaH;;AAED,eAAetB,SAAf","sourcesContent":["\r\nimport React, { useState } from 'react'\r\nimport {Link , useHistory} from 'react-router-dom'\r\nimport {Form , Button, Checkbox} from 'semantic-ui-react'\r\nimport axios from 'axios'\r\nimport '../styles/login-form.scss'\r\nimport '../styles/general.scss'\r\n\r\nfunction FormLogin ()  {\r\n    let history = useHistory()\r\n    const postRequestToValidate = (login_user) => {\r\n        console.log(\"the user is: \" + inputs.username + \" \" + inputs.password);\r\n        axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n                    console.log(\"success: \" + (response.data.success));\r\n                    console.log(\"message: \" + (response.data.message));\r\n                    if (response.data.success) {\r\n                        history.push({\r\n                            pathname: '/main',\r\n                            props: { username : inputs.username }\r\n                          })\r\n                        // this.setState({\r\n                        //     isLoading : false,\r\n                        //     redirect : true,\r\n                        // })\r\n                    } else {\r\n                        alert(\"שם המשתמש או הסיסמה שגויים\")\r\n                   }\r\n                }).then({\r\n                    // this.setState({\r\n                    //     isLoading : false,\r\n                    // });\r\n                })\r\n    }\r\n\r\n    const useSignInForm = (callback) => {\r\n        const [inputs, setInputs] = useState({username : '', password : ''})\r\n        const handleSubmit = (event) => {\r\n            if (event) {\r\n                event.preventDefault();\r\n                const login_user = {  \r\n                    _id : inputs.username,\r\n                    password : inputs.password,\r\n                }\r\n                callback(login_user)\r\n            }\r\n            \r\n        }\r\n        const handleInputChange = (event) => {\r\n            event.persist();\r\n            setInputs(inputs => ({...inputs, [event.target.name] : event.target.value}));\r\n        }\r\n        return {\r\n            handleSubmit,\r\n            handleInputChange,\r\n            inputs\r\n        };\r\n    }\r\n\r\n    const consoleFunc = () => {\r\n        console.log(\"the user is: \" + inputs.username + \" \" + inputs.password);\r\n    }\r\n    const {inputs, handleInputChange, handleSubmit} = useSignInForm(postRequestToValidate);\r\n    \r\n/**\r\nhandleChange = (e, { name, value }) => {\r\n        this.setState({ [name]: value })\r\n    }\r\n */\r\n   /**\r\n    *\r\n    onSignIn(e) {\r\n        e.preventDefault();\r\n        const {username, password} = this.state\r\n        const login_user = {  \r\n            _id : username,\r\n            password : password,\r\n        }\r\n        axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n            console.log(\"success: \" + (response.data.success));\r\n            console.log(\"message: \" + (response.data.message));\r\n            if (response.data.success) {\r\n                this.setState({\r\n                    isLoading : false,\r\n                    redirect : true,\r\n                })\r\n            } else {\r\n                console.log(response.data.message);\r\n                console.log(\"not succ \" + response.data.message);\r\n           }\r\n        }).then(()=>{\r\n            this.setState({\r\n                isLoading : false,\r\n            });\r\n        })\r\n    }\r\n    */ \r\n    \r\n    /**\r\n     *     componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n     */\r\n\r\n\r\n    const WelcomeHeader = () => {\r\n        return (\r\n            <div>\r\n                <h3 id=\"welcome\">ברוכים הבאים</h3>    \r\n                <h4 id=\"welcome-to-where\">מערכת לניהול שעות החונכות</h4>\r\n                <br></br>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"right-align\">\r\n            <WelcomeHeader/>\r\n\r\n            <Form className=\"login-form\">\r\n                <Form.Field>\r\n                    <label>שם משתמש</label>\r\n                    <Form.Input\r\n                        placeholder='ת.ז'\r\n                        name='username'\r\n                        value={inputs.username} // || ''\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </Form.Field>\r\n                \r\n                <Form.Field>\r\n                    <label>סיסמה</label>\r\n                    <Form.Input\r\n                        type=\"password\"\r\n                        placeholder='סיסמה'\r\n                        name='password'\r\n                        value={inputs.password} // || ''\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </Form.Field>\r\n                \r\n                <Form.Field\r\n                        control={Checkbox}\r\n                        label='שכחתי סיסמה'\r\n                    />\r\n\r\n                <Form.Field>\r\n                    <Link to=\"/signup\">\r\n                        <Button color=\"teal\">להרשמה</Button>\r\n                    </Link>\r\n                    <Button onClick={handleSubmit} primary>התחבר</Button>\r\n                </Form.Field>\r\n            </Form>\r\n        </div>\r\n    )\r\n    /**\r\n     render() {\r\n        const { username, password, redirect } = this.state\r\n        if (redirect) {\r\n            return (\r\n                <Redirect to={{pathname:'/main', state:{first_name:username} }}></Redirect>\r\n            )\r\n        }\r\n    }\r\n\r\n     */\r\n    \r\n        \r\n}\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}