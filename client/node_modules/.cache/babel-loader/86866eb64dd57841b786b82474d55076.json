{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tamir\\\\Uni\\\\3rd year\\\\Project\\\\StudyManagementProject\\\\study-management-app\\\\client\\\\src\\\\components\\\\loginForm.component.js\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Form, Button, Checkbox } from 'semantic-ui-react';\nimport axios from 'axios';\nimport '../styles/login-form.scss';\nimport '../styles/general.scss';\n\nclass FormLogin extends Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.handleChange = (e, {\n      name,\n      value\n    }) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.WelcomeHeader = () => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        id: \"welcome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"\\u05D1\\u05E8\\u05D5\\u05DB\\u05D9\\u05DD \\u05D4\\u05D1\\u05D0\\u05D9\\u05DD\"), React.createElement(\"h4\", {\n        id: \"welcome-to-where\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\\u05DE\\u05E2\\u05E8\\u05DB\\u05EA \\u05DC\\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05E9\\u05E2\\u05D5\\u05EA \\u05D4\\u05D7\\u05D5\\u05E0\\u05DB\\u05D5\\u05EA\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }));\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      forgotPassword: false,\n      redirect: false\n    };\n    this.onSignIn = this.onSignIn.bind(this);\n  }\n\n  onSignIn(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n    const login_user = {\n      _id: username,\n      password: password\n    };\n    axios.post('http://localhost:5000/sign_in/', login_user).then(response => {\n      console.log(\"success: \" + response.data.success);\n      console.log(\"message: \" + response.data.message);\n\n      if (response.data.success) {\n        // setInStorage('study-management-app', {token : response.data.token_id});\n        this.setState({\n          isLoading: false,\n          redirect: true\n        }); // console.log(\"success \" + response.data.message);\n        // this.props.history.push(\"/main\");\n      } else {\n        console.log(response.data.message);\n        console.log(\"not succ \" + response.data.message);\n      }\n    }).then(() => {\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          redirect = _this$state2.redirect;\n\n    if (redirect) {\n      return React.createElement(Redirect, {\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"right-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(this.WelcomeHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Form, {\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"), React.createElement(Form.Input, {\n      placeholder: \"\\u05EA.\\u05D6\",\n      name: \"username\",\n      value: username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\"), React.createElement(Form.Input, {\n      type: \"password\",\n      placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n      name: \"password\",\n      value: password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      control: Checkbox,\n      label: \"\\u05E9\\u05DB\\u05D7\\u05EA\\u05D9 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"teal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u05DC\\u05D4\\u05E8\\u05E9\\u05DE\\u05D4\")), React.createElement(Button, {\n      onClick: this.onSignIn,\n      primary: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\"))));\n  }\n\n}\n\nexport default FormLogin;","map":{"version":3,"sources":["D:/Tamir/Uni/3rd year/Project/StudyManagementProject/study-management-app/client/src/components/loginForm.component.js"],"names":["React","Component","Link","Redirect","Form","Button","Checkbox","axios","FormLogin","constructor","props","_isMounted","handleChange","e","name","value","setState","WelcomeHeader","state","username","password","forgotPassword","redirect","onSignIn","bind","preventDefault","login_user","_id","post","then","response","console","log","data","success","message","isLoading","componentWillUnmount","render"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport {Link, Redirect} from 'react-router-dom'\r\nimport {Form , Button, Checkbox} from 'semantic-ui-react'\r\nimport axios from 'axios'\r\nimport '../styles/login-form.scss'\r\nimport '../styles/general.scss'\r\n\r\nclass FormLogin extends Component  {\r\n    _isMounted = false;\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { \r\n            username: '', \r\n            password: '', \r\n            forgotPassword : false,\r\n            redirect : false,\r\n        }\r\n        this.onSignIn = this.onSignIn.bind(this);\r\n    }\r\n\r\n    handleChange = (e, { name, value }) => {\r\n        this.setState({ [name]: value })\r\n    }\r\n    \r\n    onSignIn(e) {\r\n        e.preventDefault();\r\n        const {username, password} = this.state\r\n        const login_user = {  \r\n            _id : username,\r\n            password : password,\r\n        }\r\n        axios.post('http://localhost:5000/sign_in/', login_user).then((response)=> {\r\n            console.log(\"success: \" + (response.data.success));\r\n            console.log(\"message: \" + (response.data.message));\r\n            if (response.data.success) {\r\n                // setInStorage('study-management-app', {token : response.data.token_id});\r\n                this.setState({\r\n                    isLoading : false,\r\n                    redirect : true,\r\n                })\r\n                // console.log(\"success \" + response.data.message);\r\n                // this.props.history.push(\"/main\");\r\n            } else {\r\n                console.log(response.data.message);\r\n                console.log(\"not succ \" + response.data.message);\r\n           }\r\n        }).then(()=>{\r\n            this.setState({\r\n                isLoading : false,\r\n            });\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    WelcomeHeader = () => {\r\n        return (\r\n            <div>\r\n                <h3 id=\"welcome\">ברוכים הבאים</h3>    \r\n                <h4 id=\"welcome-to-where\">מערכת לניהול שעות החונכות</h4>\r\n                <br></br>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { username, password, redirect } = this.state\r\n        if (redirect) {\r\n            return (\r\n                <Redirect to='/main'></Redirect>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"right-align\">\r\n                <this.WelcomeHeader/>\r\n\r\n                <Form className=\"login-form\">\r\n                    <Form.Field>\r\n                        <label>שם משתמש</label>\r\n                        <Form.Input\r\n                            placeholder='ת.ז'\r\n                            name='username'\r\n                            value={username}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </Form.Field>\r\n                    \r\n                    <Form.Field>\r\n                        <label>סיסמה</label>\r\n                        <Form.Input\r\n                            type=\"password\"\r\n                            placeholder='סיסמה'\r\n                            name='password'\r\n                            value={password}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </Form.Field>\r\n                    \r\n                    <Form.Field\r\n                            control={Checkbox}\r\n                            label='שכחתי סיסמה'\r\n                        />\r\n\r\n                    <Form.Field>\r\n                        <Link to=\"/signup\">\r\n                            <Button color=\"teal\">להרשמה</Button>\r\n                        </Link>\r\n                        <Button onClick={this.onSignIn} primary>התחבר</Button>\r\n                    </Form.Field>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}